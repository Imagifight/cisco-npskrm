<!DOCTYPE html>
<html>

<head>
    <meta>
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="assets/css/dash.css" />
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css">
    <script src="assets/js/swup.min.js"></script>
</head>

<body id="swup">
    <!-- Uses a transparent header that draws on top of the layout's background -->
    <div ng-app="event.horizon" ng-init="init()" ng-controller="act" class="layout-transparent mdl-layout mdl-js-layout wrapper">
        <header class="mdl-layout__header mdl-layout__header--transparent">
            <div class="mdl-layout__header-row">
                <!-- Title -->
                <span class="mdl-layout-title">
                    <a href="/" style='text-decoration:none'><code style='color:inherit;background-color:inherit;font-size: 110%;'>event.horizon</code></a>
                </span>
                <!-- Add spacer, to align navigation to the right -->
                <div class="mdl-layout-spacer"></div>
                <!-- Navigation -->
                <nav class="mdl-navigation">
                    <span style='color: rgba(0, 0, 0, 0.87); position: relative; right: 3vw;'>Welcome,
                        {{payload.username}}</span>
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
                        ng-click="logOut()">Log out</button>
                </nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">
                <code style='color:inherit;background-color:inherit;'>
                    <!--<span style="color: rgb(147, 207, 56)">-->event.horizon</code>
            </span>
            <nav class="mdl-navigation">
                <span style="position:  relative; left: 5vw">Hello, {{payload.username}}</span>

                <a class="mdl-navigation__link" href='login.html' ng-click="logOut()">Log out</a>
                <hr>
                <!-- <span style='margin:auto'>
                    Coded with &hearts; by <a href="http://www.instagram.com/romir.k">romir.k</a>
                </span> -->
            </nav>

        </div>
        <main class="mdl-layout__content" style="height:100%;">
            <div class="title" style="padding:5vh 5vw 4vw 8vh;margin:auto;display:block;/*text-align: center*/;">
                <h1>{{payload.username}}</h1><br>


                <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                        <a href="#participating" class="mdl-tabs__tab is-active">Participating</a>
                        <a href="#organizing" class="mdl-tabs__tab">Organizing</a>

                    </div>

                    <div class="mdl-tabs__panel is-active" id="participating">
                        <h3>Upcoming</h3>
                        <div id="upcomingP">
                            <ul>
                                <li ng-repeat="p in upcomingP">
                                    <md-content>
                                        <md-button ng-click="goEvent(p._id)">{{p.name}} | {{p.date | date}}</md-button>
                                    </md-content>
                                </li>
                            </ul>
                        </div>

                        <h3>Completed</h3>
                        <div id="completedP">
                            <ul>
                                <li ng-repeat="p in completedO">
                                    <md-content>
                                        <md-button ng-click="goEvent(p._id)">{{p.name}} | {{p.date | date}}</md-button>
                                    </md-content>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="mdl-tabs__panel" id="organizing">
                        <h3>Upcoming</h3>
                        <div id="upcomingO">
                            <ul>
                                <li ng-repeat="p in upcomingO">
                                    <md-content>
                                        <md-button ng-click="goEvent(p._id)">{{p.name}} | {{p.date | date}}</md-button>
                                        <md-button type="button" ng-click="parti(p._id)" class="md-raised md-primary">Participants</md-button>
                                    </md-content>
                                </li>
                            </ul>
                        </div>

                        <h3>Completed</h3>
                        <div id="completedO">
                            <ul>
                                <li ng-repeat="p in completedO">
                                    <md-content>
                                        <md-button ng-click="goEvent(p._id)">{{p.name}} | {{p.date | date}}</md-button>
                                    </md-content>
                                </li>
                            </ul>
                        </div>
                </div>


                <div id="id02" class="w3-modal">
                    <div class="w3-modal-content w3-animate-opacity" style="/*height: 30vh*/">
        
                        <header class="w3-container w3-teal">
                            <span onclick="document.getElementById('id02').style.display='none'" class="w3-button w3-display-topright">&times;</span>
                            <h2 id="modname"> Participants <!--{{modEvent.name}}--></h2>          
                        </header>
        
                        <div class="w3-container" id="moddetails">
                            <b>Number of Participants: </b> {{participant_names.length}}
                            <ul>
                                <li ng-repeat="name in participant_names">
                                    {{name}}    
                                </li>
                            </ul>
                            

                            <footer class="w3-container w3-teal" style="position:relative; bottom:2vh"></footer>
                        </div>
                            
        
                    </div>
                </div>

                <div class="mdl-layout mdl-js-layout" id='2' name='2'>

                </div>


                <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-resource.js"></script>

                <!-- Angular Material Library -->
                <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.js"></script>
                <script src='app.js'></script>
</body>

</html>